---
title: "[React] useRef"
description: REACT useRef
category: 
["React"]
series: React
createdAt: 2023-07-26
---


# useRef
`useRef()`를 사용하여 Ref 객체를 만들고, 이 객체를 우리가 선택하고 싶은 DOM에 ref 값으로 설정해주어야 합니다. 그러면 Ref 객체의  `.current`값은 우리가 원하는 DOM을 가르키게 됩니다.

배열이 고정적이라면 상관없겟지만, 배열의 인덱스를 하나하나 조회해가면서 렌더링하는 방법은 동적인 배열을 렌더링하지 못합니다.
동적인 배열을 렌더링해야 할 때에는 자바스크립트 배열의 내장함수 `map()` 을 사용합니다. 이 함수를 잘 모르신다면 이 [링크](https://learnjs.vlpt.us/basics/09-array-functions.html#map) 를 참고하세요.

`map()` 함수는 배열안에 있는 각 원소를 변환하여 새로운 배열을 만들어줍니다. 리액트에서 동적인 배열을 렌더링해야 할 때는 이 함수를 사용하여 일반 데이터 배열을 리액트 엘리먼트로 이루어진 배열로 변환해주면 됩니다.

UserList 컴포넌트를 다음과 같이 수정해보세요.

그런데, 재사용되는 코드를 일일히 넣는게 별로 좋지 않으니, 컴포넌트를 재사용 할 수 있도록 새로 만들어주겠습니다.
`key`는 어떤 역할을 할까요?
객체에 다음과 같이 `key`로 사용할 수 있는 고유 값이 있고 map 렌더링할때 주어진다면 배열이 업데이트 될때 key가 없을 때 처럼 비효율적으로 업데이트하는 것이 아니라

https://i.imgur.com/3rkaiY1.gif
수정되지 않는 기존의 값은 그대로 두고 원하는 곳에 내용을 삽입하거나 삭제합니다.
https://i.imgur.com/yEUS6Bx.gif

# Map을 이용한 렌더링

- arr.map(i => ) 의 형태로 하위 컴포넌트에게 값을 전달해준다.

# Map에서 Key가 필요한 이유

- Map에 key 값이없다면 중간의 값이 바뀌었을때 그 하위 값들이 전부 변하기 때문인다. key값을 사용한다면 key를 이용해 중간의 값을 추가하게 된다.


useRef  hook 역할
- 컴포넌트에서 특정 DOM을 선택해야 할 때
- 컴포넌트 안에서 조회 및 수정 할 수 있는 변수를 관리하는 것

useRef 특징
- 관리하는 변수는 값이 바뀐다고 해서 컴포넌트가 리렌더링되지 않는다.
- 리액트 컴포넌트에서의 상태는 상태를 바꾸는 함수를 호출하고 나서 그 다음 렌더링 이후로 업데이트 된 상태를 조회 할 수 있는 반면, useRef로 관리하고 있는 변수는 설정 후 바로 조회 할 수 있다.
- ex, scroll 위치
- 외부 라이브러리를 사용하여 생성된 인스턴스
- setTimeout, setInterval을 통해서 만들어진 id
- 